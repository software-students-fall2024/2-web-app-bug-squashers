<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}" />
    <title>Search Results</title>
</head>

<body>
    <div class="searchresults">
        <div class = "div">
            <h2>Search Results for "{{ query }}"</h2>

            {% if tasks %}
                <table>
                    <thead>
                        <tr>
                            <th>Completed</th>
                            <th>Task Name</th>
                            <th>Description</th>
                            <th>Due Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for task in tasks %}
                        <tr>
                            <td>
                                <a href="{{ url_for('render_confirmation', id=task._id) }}">
                                    <button type="button"> Mark Complete </button>
                                </a>
                            </td>
                            <td>
                                <a href="{{ url_for('render_edit', id=task._id) }}">{{ task.name }}</a>
                            </td>
                            <td>
                                {{ task.description }}
                            </td>
                            <td>
                                {{ task.due_date or 'No due date' }}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>No tasks found matching your search.</p>
            {% endif %}

            <a href="{{ url_for('search') }}">Search again</a>
            <a href="{{ url_for('home') }}">
                <button type="button">Home</button>
            </a>
        </div>
    </div>
</body>
</html>